{"ast":null,"code":"import _regeneratorRuntime from\"/Users/metehan/Downloads/ord/sats-connect-example-main 2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/metehan/Downloads/ord/sats-connect-example-main 2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/metehan/Downloads/ord/sats-connect-example-main 2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{createInscription}from\"sats-connect\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateTextInscription=function CreateTextInscription(_ref){var network=_ref.network,capabilities=_ref.capabilities;var _useState=useState(8),_useState2=_slicedToArray(_useState,2),suggestedMinerFeeRate=_useState2[0],setSuggestedMinerFeeRate=_useState2[1];var _useState3=useState(\"<html>\\n    <body\\n      style=\\\"\\n        display: flex;\\n        flex-direction: column;\\n        justify-content: center;\\n        align-items: center;\\n        height: 100%;\\n      \\\"\\n    >\\n      <p>Hello World!</p>\\n      <p>I am recursive!!</p>\\n      <img\\n        src=\\\"/content/6fb976ab49dcec017f1e201e84395983204ae1a7c2abf7ced0a85d692e442799i0\\\"\\n      />\\n      <div id=\\\"content\\\">Fetching current block height...</div>\\n      <script>\\n        const fetchBlockheight = () =>\\n          fetch(\\\"/blockheight\\\")\\n            .then((response) => response.text())\\n            .then((data) => {\\n              document.getElementById(\\\"content\\\").textContent =\\n                \\\"Current block height: \\\" + data;\\n            })\\n            .catch(console.error);\\n        setTimeout(fetchBlockheight, 2000);\\n      </script>\\n    </body>\\n  </html>\\n\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(\"text/html\"),_useState6=_slicedToArray(_useState5,2),contentType=_useState6[0],setContentType=_useState6[1];var onCreateClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return createInscription({payload:{network:{type:network},contentType:contentType,content:content,payloadType:\"PLAIN_TEXT\",/** Optional parameters:\n          appFeeAddress: \"\", // the address where the inscription fee should go\n          appFee: 1000, // the amount of sats that should be sent to the fee address\n          */suggestedMinerFeeRate:suggestedMinerFeeRate},onFinish:function onFinish(response){alert(response.txId);},onCancel:function onCancel(){return alert(\"Canceled\");}});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);alert(\"An error ocurred: \".concat(_context.t0.message));case 8:case\"end\":return _context.stop();}},_callee,null,[[0,5]]);}));return function onCreateClick(){return _ref2.apply(this,arguments);};}();if(!capabilities.has(\"createInscription\")){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create file inscription\"}),/*#__PURE__*/_jsx(\"b\",{children:\"The wallet does not support this feature\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create text inscription\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Creates an inscription with the desired text and content type. The inscription will be sent to your ordinals address.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"A service fee and service fee address can be added to the inscription request as part of the payload if desired.\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Content type\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{value:contentType,onChange:function onChange(e){return setContentType(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Content\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:function onChange(e){return setContent(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Fee rate\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{value:suggestedMinerFeeRate,onChange:function onChange(e){var newFeeRate=Number(e.target.value);setSuggestedMinerFeeRate(Number.isNaN(newFeeRate)?0:newFeeRate);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCreateClick,children:\"Create inscription\"})]})]});};export default CreateTextInscription;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}